<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
<title>Jogos Entre Amigos</title>
<link rel="manifest" href="manifest.json">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="theme-color" content="#FFD700">
<meta name="apple-mobile-web-app-title" content="JEA Hub">
<link rel="apple-touch-icon" href="icon-192.png">

<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js').then(reg => console.log('SW OK'));
  }
</script>

<style>
:root { --bg: #030207; --gold: #FFD700; --text: #ffffff; }
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body { 
  margin: 0; background: var(--bg); color: var(--text); 
  font-family: 'Inter', sans-serif; height: 100dvh; overflow: hidden; 
  display: flex; justify-content: center;
  /* Resolve o problema da barra superior empurrando o layout */
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

#hub {
  width: 100%; max-width: 500px; height: 100%; 
  display: flex; flex-direction: column;
  background: radial-gradient(circle at top, #1a1625 0%, #030207 100%);
  position: relative;
}

.header { padding: 15px 20px 5px; text-align: center; flex-shrink: 0; }
.header h1 { font-size: 0.7rem; letter-spacing: 5px; opacity: 0.4; margin: 0; font-weight: 900; text-transform: uppercase; }

.carousel-container {
    flex: 1; position: relative;
    display: flex; align-items: center; justify-content: center;
    perspective: 1200px; overflow: hidden;
}

#gameCarousel { width: 100%; height: 100%; position: relative; display: flex; align-items: center; justify-content: center; transform-style: preserve-3d; }

.game-card {
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 88%; 
    height: 85%; /* Altura ajustada para evitar corte no bot√£o inferior */
    max-height: 560px; 
    border-radius: 40px; padding: 25px 20px;
    display: flex; flex-direction: column; align-items: center; text-align: center; 
    justify-content: space-between;
    transition: all 0.8s cubic-bezier(0.2, 1, 0.3, 1);
    background: rgba(255, 255, 255, 0.05); 
    backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.1); user-select: none; overflow: hidden;
}

.card-active { z-index: 10; transform: translate(-50%, -50%) scale(1); opacity: 1; border-color: var(--c); box-shadow: 0 20px 50px rgba(0,0,0,0.8), 0 0 30px rgba(var(--rgb), 0.2); }
.card-left { z-index: 5; transform: translate(-100%, -50%) scale(0.8) rotateY(25deg); opacity: 0.2; filter: blur(3px); }
.card-right { z-index: 5; transform: translate(0%, -50%) scale(0.8) rotateY(-25deg); opacity: 0.2; filter: blur(3px); }
.card-hidden { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }

.game-icon-slot { font-size: 5.5rem; flex-shrink: 0; }
.game-info { flex: 1; display: flex; flex-direction: column; justify-content: center; }
.game-info h2 { font-size: 2rem; margin: 0; font-weight: 900; text-transform: uppercase; color: var(--c); line-height: 1; }
.game-info p { font-size: 0.9rem; opacity: 0.7; margin: 10px 0; line-height: 1.4; }

.game-meta { width: 100%; }
.tags { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; margin-bottom: 12px; }
.tag { font-size: 0.6rem; padding: 8px; border-radius: 10px; background: rgba(var(--rgb), 0.15); font-weight: 800; color: var(--c); text-transform: uppercase; }

.btn-play { width: 100%; padding: 20px; border-radius: 25px; border: none; font-size: 1.1rem; font-weight: 900; cursor: pointer; background: var(--c); color: #000; }

.style-sintonia { --c: #00d4ff; --rgb: 0, 212, 255; }
.style-nempensar { --c: #FFD700; --rgb: 255, 215, 0; }
.style-letras { --c: #9b7cff; --rgb: 155, 124, 255; }
.style-imperium { --c: #ff0033; --rgb: 255, 0, 51; }
.style-conhece { --c: #2dd36f; --rgb: 45, 211, 111; }

.nav-dots { display: flex; gap: 10px; justify-content: center; padding: 10px 0 20px; }
.dot { width: 8px; height: 8px; border-radius: 4px; background: rgba(255,255,255,0.1); transition: 0.4s; }
.dot.active { width: 30px; background: var(--gold); }
</style>
</head>
<body>

<div id="hub">
    <div class="header"><h1>Jogos Entre Amigos</h1></div>
    <div class="carousel-container">
        <div id="gameCarousel"></div>
    </div>
    <div class="nav-dots" id="dots"></div>
</div>

<script>
// TEXTOS ORIGINAIS DO SEU BACKUP RESTAURADOS ABAIXO:
const JEA_GAMES = [
    { 
        title: "NEM PENSAR", 
        desc: "Onde o √≥bvio √© o seu maior inimigo. Fa√ßa o grupo adivinhar a palavra secreta, mas cuidado: as respostas mais comuns est√£o proibidas!", 
        icon: "ü§´", 
        tags: ["PARTY GAME", "CRIATIVIDADE", "R√ÅPIDO", "3-10 PLAYERS"], 
        style: "style-nempensar", 
        url: "nem-pensar.html" 
    },
    { 
        title: "CAD√ä AS LETRAS?", 
        desc: "Seus dedos e sua mente precisam voar. Uma categoria √© sorteada: quem consegue encontrar as palavras e descartar suas letras primeiro?", 
        icon: "üî§", 
        tags: ["AGILIDADE", "VOCABUL√ÅRIO", "COMPETITIVO", "2-6 PLAYERS"], 
        style: "style-letras", 
        url: "letras.html" 
    },
    { 
        title: "IMPERIUM", 
        desc: "Ningu√©m √© o que parece. Use influ√™ncias pol√≠ticas e assuma pap√©is ocultos para desmascarar traidores antes que o trono do Rei caia.", 
        icon: "üè∞", 
        tags: ["ESTRAT√âGIA", "BLEFE", "SOCIAL", "4-12 PLAYERS"], 
        style: "style-imperium", 
        url: "imperium.html" 
    },
    { 
        title: "VOC√ä N√ÉO ME CONHECE", 
        desc: "O quanto voc√™ sabe sobre quem est√° ao seu lado? Conte hist√≥rias inusitadas e tente descobrir quem est√° falando a verdade no grupo.", 
        icon: "üé≠", 
        tags: ["HIST√ìRIAS", "SOCIAL", "DEDU√á√ÉO", "3-8 PLAYERS"], 
        style: "style-conhece", 
        url: "conhece.html" 
    }
];

let cur = 0;

function render() {
    const container = document.getElementById("gameCarousel");
    const dots = document.getElementById("dots");
    container.innerHTML = ""; dots.innerHTML = "";
    
    JEA_GAMES.forEach((game, idx) => {
        const card = document.createElement("div");
        card.className = `game-card ${game.style}`;
        
        if(idx === cur) card.classList.add("card-active");
        else if(idx === (cur - 1 + JEA_GAMES.length) % JEA_GAMES.length) card.classList.add("card-left");
        else if(idx === (cur + 1) % JEA_GAMES.length) card.classList.add("card-right");
        else card.classList.add("card-hidden");
        
        card.innerHTML = `
            <div class="game-icon-slot">${game.icon}</div>
            <div class="game-info">
                <h2>${game.title}</h2>
                <p>${game.desc}</p>
            </div>
            <div class="game-meta">
                <div class="tags">${game.tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>
                <button class="btn-play" onclick="location.href='${game.url}'">JOGAR AGORA</button>
            </div>
        `;
        container.appendChild(card);
        const d = document.createElement("div");
        d.className = `dot ${idx === cur ? 'active' : ''}`;
        dots.appendChild(d);
    });
}

render();

let startX = 0;
document.addEventListener('touchstart', e => startX = e.touches[0].clientX);
document.addEventListener('touchend', e => {
    let diff = startX - e.changedTouches[0].clientX;
    if(Math.abs(diff) > 50) {
        if(diff > 0) cur = (cur + 1) % JEA_GAMES.length;
        else cur = (cur - 1 + JEA_GAMES.length) % JEA_GAMES.length;
        render();
    }
});
</script>
</body>
</html>
