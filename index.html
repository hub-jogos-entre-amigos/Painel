<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
<title>Jogos Entre Amigos</title>

<link rel="manifest" href="manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="icon-192.png">

<style>
:root {
  --bg: #030207;
  --accent: #9b7cff;
  --text: #ffffff;
  --glass: rgba(255, 255, 255, 0.08);
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
body { 
  margin: 0; background: var(--bg); color: var(--text); 
  font-family: 'Inter', system-ui, -apple-system, sans-serif; 
  height: 100dvh; overflow: hidden; display: flex; justify-content: center;
}

#hub {
  width: 100%; max-width: 500px; height: 100%;
  display: flex; flex-direction: column;
  background: radial-gradient(circle at top, #14111d 0%, #030207 100%);
  position: relative;
}

.hub-header {
  position: absolute; top: env(safe-area-inset-top); left: 0; width: 100%;
  padding-top: 15px; text-align: center; z-index: 50;
}
.hub-header h1 { 
  margin: 0; font-size: 0.7rem; letter-spacing: 7px; 
  font-weight: 300; opacity: 0.4; text-transform: uppercase;
}
.hub-header b { color: var(--accent); font-weight: 900; }

#sound-toggle {
  position: absolute; top: calc(env(safe-area-inset-top) + 10px); right: 20px;
  width: 44px; height: 44px; border-radius: 50%;
  background: var(--glass); border: 1px solid rgba(255,255,255,0.1);
  color: white; display: flex; align-items: center; justify-content: center;
  z-index: 100; cursor: pointer; backdrop-filter: blur(15px);
}

.nav-btn {
  position: absolute; 
  top: calc(env(safe-area-inset-top) + 80px); 
  background: rgba(255,255,255,0.08); 
  color: white; 
  width: 50px; 
  height: 50px;
  border-radius: 50%; 
  font-size: 1.8rem; 
  z-index: 100; 
  cursor: pointer;
  display: flex; 
  align-items: center; 
  justify-content: center; 
  border: 1px solid rgba(255,255,255,0.1);
  backdrop-filter: blur(10px);
  transition: background 0.3s;
}

.nav-prev { left: 15px; }
.nav-next { right: 15px; }

.carousel {
  flex: 1; width: 100%; display: flex; align-items: flex-end;
  justify-content: center; position: relative; perspective: 1500px;
  padding-bottom: 35px;
}

.game-card {
  position: absolute; width: 92%; height: 86%;
  border-radius: 50px; padding: 50px 30px 40px;
  display: flex; flex-direction: column; align-items: center;
  text-align: center; transition: all 0.8s cubic-bezier(0.2, 1, 0.3, 1);
  box-shadow: 0 50px 100px rgba(0,0,0,0.9);
  backface-visibility: hidden;
}

.card-nem { background: linear-gradient(180deg, #2a2200 0%, #080703 100%); border: 1px solid rgba(255, 215, 0, 0.2); }
.card-cade { background: linear-gradient(180deg, #1d123a 0%, #06050a 100%); border: 1px solid rgba(155, 124, 255, 0.2); }
.card-voce { background: linear-gradient(180deg, #071f2a 0%, #02070a 100%); border: 1px solid rgba(0, 210, 255, 0.2); }
.card-sintonia { background: linear-gradient(180deg, #002b36 0%, #030207 100%); border: 1px solid rgba(0, 212, 255, 0.2); }

/* ESTILO IMPERIUM MANTENDO O PADRÃƒO EXATO DOS OUTROS */
.card-imperium { background: linear-gradient(180deg, #1a1400 0%, #0d001a 100%); border: 1px solid rgba(255, 215, 0, 0.2); }

.game-icon-slot {
  width: 115px; height: 115px; border-radius: 35px;
  background: rgba(255,255,255,0.03); display: flex;
  align-items: center; justify-content: center;
  margin: 10px 0; border: 1px solid rgba(255,255,255,0.08);
  font-size: 4.5rem;
  text-shadow: 0 10px 20px rgba(0,0,0,0.5), 0 0 25px rgba(255,255,255,0.1);
  filter: drop-shadow(0 5px 15px rgba(0,0,0,0.8));
}

.game-info { flex: 1; display: flex; flex-direction: column; justify-content: center; }
.game-info h2 { font-size: 2.8rem; margin: 0; font-weight: 1000; letter-spacing: -2px; line-height: 0.95; }
.game-info p { font-size: 1.05rem; opacity: 0.8; line-height: 1.5; margin: 20px 0; }

.game-meta { width: 100%; margin-top: auto; }
.tags { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 25px; }
.tag { 
  background: var(--glass); padding: 10px; border-radius: 15px; 
  font-size: 0.65rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1.5px;
}
.players-label { font-size: 0.9rem; margin-bottom: 25px; opacity: 0.5; font-weight: 700; }

.btn-play {
  background: #fff; color: #000; border: none; padding: 22px;
  border-radius: 30px; font-weight: 1000; font-size: 1.2rem; cursor: pointer;
  width: 100%; text-transform: uppercase; transition: transform 0.2s;
}

.card-active { transform: translateX(0) scale(1) rotateY(0); opacity: 1; z-index: 10; }
.card-left { transform: translateX(-110%) scale(0.8) rotateY(30deg); opacity: 0; }
.card-right { transform: translateX(110%) scale(0.8) rotateY(-30deg); opacity: 0; }

</style>
</head>
<body>

<div id="hub">
  <div id="sound-toggle" onclick="toggleAudio()">ðŸ”Š</div>
  
  <header class="hub-header">
    <h1>Jogos <b>Entre Amigos</b></h1>
  </header>

  <button class="nav-btn nav-prev" onclick="move(-1)">â€¹</button>
  <button class="nav-btn nav-next" onclick="move(1)">â€º</button>

  <div class="carousel" id="gameCarousel"></div>
</div>

<script>
const JEA_GAMES = [
    { 
        id: "nem", title: "NEM<br>PENSAR!", icon: "ðŸ¤«", 
        tags: ["Autocontrole", "TensÃ£o", "Blefe", "Humor"], 
        players: "2 a 10 Jogadores", 
        desc: "Domine seu instinto. Se vocÃª rir, piscar ou reagir, perde. Consegue manter o foco enquanto todos tentam te quebrar?", 
        style: "card-nem", 
        url: "Newnempensar.html" 
    },
    { 
        id: "cade", title: "CADÃŠ AS<br>LETRAS?", icon: "ðŸ”¤", 
        tags: ["Agilidade", "Alfabeto", "EstratÃ©gia", "Festa"], 
        players: "2 a 8 Jogadores", 
        desc: "As letras estÃ£o sumindo a cada rodada! Pense rÃ¡pido em palavras antes que o tempo acabe e sua lÃ­ngua dÃª um nÃ³.", 
        style: "card-cade", 
        url: "letras.html" 
    },
    { 
        id: "voce", title: "VOCÃŠ NÃƒO<br>ME CONHECE", icon: "ðŸŽ­", 
        tags: ["Social", "MistÃ©rio", "DeduÃ§Ã£o", "Verdade"], 
        players: "3 a 12 Jogadores", 
        desc: "Quem estÃ¡ falando a verdade? Descubra os segredos escondidos dos seus amigos e prove que vocÃª os conhece bem.", 
        style: "card-voce", 
        url: "conhece.html" 
    },
    { 
        id: "sintonia", title: "SINTONIA", icon: "ðŸ§¬", 
        tags: ["ConexÃ£o", "Ritmo", "Mente", "Duplas"], 
        players: "4 a 12 Jogadores", 
        desc: "SerÃ¡ que seus pensamentos estÃ£o em total sincronia? Trabalhem em duplas para falarem a mesma palavra no momento exato e estabelecer a conexÃ£o perfeita.", 
        style: "card-sintonia", 
        url: "sintonia.html" 
    },
    { 
        id: "imperium", title: "IMPERIUM", icon: "ðŸ°", 
        tags: ["MistÃ©rio", "Blefe", "EstratÃ©gia", "Corte"], 
        players: "3 a 10 Jogadores", 
        desc: "Um traidor se infiltrou na corte. Nobres protegem o Rei, enquanto o Assassino busca o segredo da coroa atravÃ©s de blefes e deduÃ§Ãµes.", 
        style: "card-imperium", 
        url: "imperium.html" 
    }
];

let cur = 0;
let isMuted = false;
let audioCtx = null;

function initAudio() {
    if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    if (audioCtx.state === 'suspended') audioCtx.resume();
}

function toggleAudio() {
    initAudio();
    isMuted = !isMuted;
    document.getElementById("sound-toggle").innerText = isMuted ? "ðŸ”‡" : "ðŸ”Š";
}

function move(dir) {
    initAudio();
    cur = (cur + dir + JEA_GAMES.length) % JEA_GAMES.length;
    
    if(!isMuted && audioCtx) {
        const o = audioCtx.createOscillator();
        const g = audioCtx.createGain();
        o.connect(g); g.connect(audioCtx.destination);
        o.frequency.setValueAtTime(220 + (cur * 60), audioCtx.currentTime);
        g.gain.setValueAtTime(0.25, audioCtx.currentTime); 
        g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.15);
        o.start(); o.stop(audioCtx.currentTime + 0.15);
    }
    render();
}

function render() {
    const container = document.getElementById("gameCarousel");
    container.innerHTML = "";
    JEA_GAMES.forEach((game, idx) => {
        const card = document.createElement("div");
        card.className = `game-card ${game.style}`;
        
        if(idx === cur) card.classList.add("card-active");
        else if(idx === (cur - 1 + JEA_GAMES.length) % JEA_GAMES.length) card.classList.add("card-left");
        else card.classList.add("card-right");

        card.innerHTML = `
            <div class="game-icon-slot">${game.icon}</div>
            <div class="game-info">
                <h2>${game.title}</h2>
                <p>${game.desc}</p>
            </div>
            <div class="game-meta">
                <div class="tags">${game.tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>
                <div class="players-label">ðŸ‘¥ ${game.players}</div>
                <button class="btn-play" onclick="location.href='${game.url}'">INICIAR</button>
            </div>
        `;
        container.appendChild(card);
    });
}

render();

let startX = 0;
document.addEventListener('touchstart', e => startX = e.touches[0].clientX);
document.addEventListener('touchend', e => {
    let diff = startX - e.changedTouches[0].clientX;
    if(Math.abs(diff) > 60) move(diff > 0 ? 1 : -1);
});

// REGISTRO DO SERVICE WORKER
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js');
}
</script>
</body>
</html>
